"""\nTender models\n"""\nfrom pydantic import BaseModel, Field, ConfigDict\nfrom typing import Optional, List\nfrom datetime import datetime, timezone\nfrom enum import Enum\nimport uuid\n\n\nclass TenderStatus(str, Enum):\n    DRAFT = "draft"\n    PUBLISHED = "published"\n    CLOSED = "closed"\n    AWARDED = "awarded"\n\n\nclass ProposalStatus(str, Enum):\n    SUBMITTED = "submitted"\n    APPROVED = "approved"\n    REJECTED = "rejected"\n\n\nclass Tender(BaseModel):\n    model_config = ConfigDict(extra="ignore")\n    \n    id: str = Field(default_factory=lambda: str(uuid.uuid4()))\n    tender_number: Optional[str] = None  # Auto-generated (e.g., TND-2025-0001)\n    title: str\n    description: str\n    project_name: str\n    requirements: str\n    budget: float\n    deadline: datetime\n    invited_vendors: List[str] = []  # vendor IDs\n    status: TenderStatus = TenderStatus.DRAFT\n    created_by: Optional[str] = None  # user ID who created\n    awarded_to: Optional[str] = None  # vendor ID\n    created_at: datetime = Field(default_factory=lambda: datetime.now(timezone.utc))\n    updated_at: datetime = Field(default_factory=lambda: datetime.now(timezone.utc))\n\n\nclass EvaluationCriteria(BaseModel):\n    model_config = ConfigDict(extra="ignore")\n    \n    vendor_reliability_stability: float = 0.0  # Score 1-5\n    delivery_warranty_backup: float = 0.0  # Score 1-5\n    technical_experience: float = 0.0  # Score 1-5\n    cost_score: float = 0.0  # Score 1-5\n    meets_requirements: float = 0.0  # Score 1-5 (NEW)\n    \n    # Calculated fields\n    vendor_reliability_weighted: float = 0.0  # 20% weight\n    delivery_warranty_weighted: float = 0.0  # 20% weight\n    technical_experience_weighted: float = 0.0  # 10% weight\n    cost_weighted: float = 0.0  # 10% weight\n    meets_requirements_weighted: float = 0.0  # 40% weight (NEW)\n    total_score: float = 0.0  # Sum of weighted scores (100% total)\n\n\nclass Proposal(BaseModel):\n    model_config = ConfigDict(extra="ignore")\n    \n    id: str = Field(default_factory=lambda: str(uuid.uuid4()))\n    proposal_number: Optional[str] = None  # Auto-generated (e.g., PRO-2025-0001)\n    tender_id: Optional[str] = None  # Set automatically by endpoint\n    vendor_id: str\n    technical_proposal: str\n    financial_proposal: float\n    status: ProposalStatus = ProposalStatus.APPROVED  # Auto-approved\n    \n    # Evaluation scores\n    evaluation: Optional[EvaluationCriteria] = None\n    evaluated_by: Optional[str] = None  # User ID who evaluated\n    evaluated_at: Optional[datetime] = None\n    \n    # Legacy fields (kept for compatibility)\n    technical_score: float = 0.0\n    financial_score: float = 0.0\n    final_score: float = 0.0\n    \n    documents: List[str] = []\n    submitted_at: datetime = Field(default_factory=lambda: datetime.now(timezone.utc))\n\n\nclass ProposalEvaluationRequest(BaseModel):\n    """Request model for evaluating proposals"""\n    vendor_reliability_stability: float\n    delivery_warranty_backup: float\n    technical_experience: float\n    cost_score: float\n    meets_requirements: float\n